<!doctype html>
<html>
<head>
  <title>ChineseDict</title>

  <meta charset="utf-8">

  <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">

  <link rel="icon" type="image/png" href="/zhong.png" />
  <link rel="apple-touch-icon" href="/zhong-bg.png" />

  <link
    rel="search"
    type="application/opensearchdescription+xml"
    title="Search ChineseDict"
    href="/opensearch.xml" />

  <link rel="stylesheet" href="/main.css">

  <!-- TODO
  <link rel="canonical" href="">
  -->
</head>
<body>
  <div class="content" id="app">
    <header>
      <nav>
        <h1><a href="/">ChineseDict</a></h1>
        <span><a href="/random">Random</a></span>
        <span><a href="/about">About</a></span>
      </nav>

      <form action="/" method="GET">
        <input
          type="text"
          name="q"
          id="query"
          placeholder="Search for a word..."
          autofocus />
        </form>

        <div id="segments">
        </div>
    </header>

    <ul id="results" class="word-list">
      <li style="border-bottom: none; font-size: 1.2rem;">
        <p><b>ChineseDict</b> is a fast Chinese-English dictionary.</p>

        <p>To get started, enter any Chinese text or English word in the search box.</p>

        <p>Examples:</p>

        <ul>
          <li>A word: <a href="/word/小狗">小狗</a></li>
          <li>English words: <a href="/?q=news">news</a></li>
          <li>Multiple Chinese words to segment: <a href="/?q=我们正在吃饭">我们正在吃饭</a></li>
        </ul>

      </li>
    </ul>
    <script>
      // TEMPORARY TERRIBLE HACK
      const queryParams = new URLSearchParams(window.location.search);
      const query = queryParams.get("q");
      if (query) {
        document.querySelector('.word-list').innerText = 'Loading...';
      }
    </script>

    <footer>
      Dictionary data is provided by the wonderful <a href="https://cc-cedict.org/wiki/">CC-EDICT</a>.<br/>

      Provide feedback <a href="https://github.com/jeffcarp/chinesedict/issues/new">here</a>.<br/>

      Currently only <a href="https://github.com/jeffcarp/chinesedict/issues/1">simplified characters</a> are supported.
    </footer>
  </div>
</body>

<template id="search-result-li">
  <li>
      <div class="word">
        <a class="characters"></a>
        <div class="definitions"></div>
        <div class="percentile-outer"><span class="percentile"></span></div>
      </div>
  </li>
</template>

<template id="word-segment">
  <span class="segment"></span>
</template>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-VF4JJW0F68"></script>
<script>
  if (!window.location.origin.includes('localhost')) {
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-JGWNGNWF35');
  }
</script>

<script src="/main.js" type="module"></script>
</html>
